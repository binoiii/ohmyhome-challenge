(this["webpackJsonpohmyhome-challenge"]=this["webpackJsonpohmyhome-challenge"]||[]).push([[0],{16:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(9),s=r.n(c),o=(r(16),r(4)),i=r.n(o),l=r(7),u=r(11),m=r(8),d=r(2),p="FETCH_PROPERTIES",x="FETCH_SUCCESS",f="UPDATE_MINIMUM",j="UPDATE_MAXIMUM",b="UPDATE_BED_TYPE",y="APPLY_FILTER",h="CLEAR_FILTER",O="HANDLE_MODAL",g="INCREMENT_OFFSET",w="RESET_OFFSET",v=function(e,t){switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case x:return Object(d.a)(Object(d.a)({},e),{},{totalProperties:t.payload.totalProperties,properties:[].concat(Object(m.a)(e.properties),Object(m.a)(t.payload.list)),loading:!1});case f:return Object(d.a)(Object(d.a)({},e),{},{min:t.payload});case j:return Object(d.a)(Object(d.a)({},e),{},{max:t.payload});case b:return Object(d.a)(Object(d.a)({},e),{},{type:t.payload});case h:return Object(d.a)(Object(d.a)({},e),{},{type:"",min:"",max:""});case y:return Object(d.a)(Object(d.a)({},e),{},{totalProperties:t.payload.totalProperties,properties:t.payload.list,loading:!1});case O:return Object(d.a)(Object(d.a)({},e),{},{isFilterShow:t.payload});case g:return Object(d.a)(Object(d.a)({},e),{},{offset:e.offset+4});case w:return Object(d.a)(Object(d.a)({},e),{},{offset:0});default:return e}},C=r(0),N=Object(n.createContext)(),M={totalProperties:0,limit:4,offset:0,properties:[],type:"",min:"",max:"",loading:!0,isFilterShow:!1},E=function(e){var t=e.children,r=Object(n.useReducer)(v,M),a=Object(u.a)(r,2),c=a[0],s=a[1],o=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:p}),e.next=4,fetch("https://m9ojazlunf.execute-api.ap-southeast-1.amazonaws.com/test?limit=".concat(c.limit,"&offset=").concat(c.offset,"&min=").concat(c.min,"&max=").concat(c.max,"&type=").concat(c.type)).then((function(e){return e.json()}));case 4:t=e.sent,s({type:x,payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:O,payload:!c.isFilterShow}),s({type:p}),e.next=5,fetch("https://m9ojazlunf.execute-api.ap-southeast-1.amazonaws.com/test?limit=".concat(c.limit,"&min=").concat(c.min,"&max=").concat(c.max,"&type=").concat(c.type)).then((function(e){return e.json()}));case 5:t=e.sent,s({type:y,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(N.Provider,{value:{state:c,dispatch:s,fetchProperties:o,updateMin:function(e){s({type:f,payload:e})},updateMax:function(e){return s({type:j,payload:e})},updateBedType:function(e){return s({type:b,payload:e})},clearFilter:function(){return s({type:h})},applyFilters:m,handleFilterModal:function(){return s({type:O,payload:!c.isFilterShow})},incrementOffset:function(){return s({type:g})},resetOffset:function(){return s({type:w})}},children:t})},P=function(){return Object(C.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M6.5 0.5C5.53013 0.5 4.70364 1.132 4.39062 2H0.5V3.5H4.39062C4.70364 4.368 5.53013 5 6.5 5C7.73376 5 8.75 3.98376 8.75 2.75C8.75 1.51624 7.73376 0.5 6.5 0.5ZM6.5 2C6.9231 2 7.25 2.3269 7.25 2.75C7.25 3.1731 6.9231 3.5 6.5 3.5C6.0769 3.5 5.75 3.1731 5.75 2.75C5.75 2.3269 6.0769 2 6.5 2ZM10.25 2V3.5H15.5V2H10.25ZM10.25 5.75C9.28013 5.75 8.45364 6.382 8.14062 7.25H0.5V8.75H8.14062C8.45364 9.618 9.28013 10.25 10.25 10.25C11.4838 10.25 12.5 9.23376 12.5 8C12.5 6.76624 11.4838 5.75 10.25 5.75ZM10.25 7.25C10.6731 7.25 11 7.5769 11 8C11 8.4231 10.6731 8.75 10.25 8.75C9.8269 8.75 9.5 8.4231 9.5 8C9.5 7.5769 9.8269 7.25 10.25 7.25ZM14 7.25V8.75H15.5V7.25H14ZM4.25 11C3.28013 11 2.45364 11.632 2.14062 12.5H0.5V14H2.14062C2.45364 14.868 3.28013 15.5 4.25 15.5C5.48376 15.5 6.5 14.4838 6.5 13.25C6.5 12.0162 5.48376 11 4.25 11ZM4.25 12.5C4.6731 12.5 5 12.8269 5 13.25C5 13.6731 4.6731 14 4.25 14C3.8269 14 3.5 13.6731 3.5 13.25C3.5 12.8269 3.8269 12.5 4.25 12.5ZM8 12.5V14H15.5V12.5H8Z",fill:"black"})})},F=function(){return Object(C.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M0.170289 13.0336L1.485 14.3138L7.18262 8.46303L13.0334 14.1607L14.3137 12.8459L8.4629 7.14832L14.1605 1.29751L12.8458 0.0172276L7.1482 5.86804L1.29738 0.170417L0.0170989 1.48512L5.86791 7.18275L0.170289 13.0336Z",fill:"#343434"})})},L=function(){var e=Object(n.useContext)(N),t=e.clearFilter,r=e.handleFilterModal;return Object(C.jsxs)("div",{className:"p-4 flex items-center justify-between border-b border-gray-tertiary",children:[Object(C.jsx)("button",{className:"focus:outline-none",onClick:r,children:Object(C.jsx)(F,{})}),Object(C.jsx)("h4",{className:"text-gray-primary font-primary font-medium",children:"Filter"}),Object(C.jsx)("button",{className:"focus:outline-none text-xs text-gray-primary font-primary font-medium",onClick:function(){return t()},children:"Clear"})]})},k=function(){var e=Object(n.useContext)(N),t=e.state,r=t.min,a=t.max,c=e.updateMin,s=e.updateMax,o=function(e){var t=e.target,r=t.value;if("min"===t.name)return c(r);s(r)};return Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"my-5 text-lg text-primary font-semibold",children:"Price Range"}),Object(C.jsxs)("div",{className:"flex justify-between items-center",children:[Object(C.jsx)("input",{type:"text",name:"min",placeholder:"Minimum",value:r,onChange:o,className:"px-4 py-2.5 w-40 w-full border border-gray-sixth outline-none active:outline-none rounded-md text-sm text-gray-primary font-primary placeholder-gray-secondary"}),Object(C.jsx)("div",{className:"mx-2 h-0.5 w-3 sm:w-3 bg-black"}),Object(C.jsx)("input",{type:"text",name:"max",placeholder:"Maximum",value:a,onChange:o,className:"px-4 py-2.5 w-40 w-full border border-gray-sixth outline-none active:outline-none rounded-md text-sm text-gray-primary font-primary placeholder-gray-secondary"})]})]})},S=function(){var e=Object(n.useContext)(N),t=e.state.type,r=e.updateBedType;return Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"my-5 text-lg text-primary font-semibold",children:"Bedrooms"}),Object(C.jsxs)("div",{className:"flex space-x-1 sm:space-x-4 md:space-x-0 justify-between items-center",children:[Object(C.jsx)("button",{className:"".concat(""===t&&"active"," px-3 py-2 w-min sm:w-full md:w-20 border border-gray-seventh focus:outline-none rounded-md text-xs text-gray-primary font-primary font-semibold"),onClick:function(){return r("")},children:"Any"}),Object(C.jsx)("button",{className:"".concat(0===t&&"active"," px-1 sm:px-4 py-2 w-min sm:w-full md:w-20 border border-gray-seventh focus:outline-none rounded-md text-xs text-gray-primary font-primary font-semibold"),onClick:function(){return r(0)},children:"Studio"}),Object(C.jsx)("button",{className:"".concat(1===t&&"active"," px-4 py-2 w-12 sm:w-full md:w-16 border border-gray-seventh focus:outline-none rounded-md text-xs text-gray-primary font-primary font-semibold"),onClick:function(){return r(1)},children:"1"}),Object(C.jsx)("button",{className:"".concat(2===t&&"active"," px-4 py-2 w-12 sm:w-full md:w-16 border border-gray-seventh focus:outline-none rounded-md text-xs text-gray-primary font-primary font-semibold"),onClick:function(){return r(2)},children:"2"}),Object(C.jsx)("button",{className:"".concat(3===t&&"active"," px-4 py-2 w-12 sm:w-full md:w-16 border border-gray-seventh focus:outline-none rounded-md text-xs text-gray-primary font-primary font-semibold"),onClick:function(){return r(3)},children:"3"}),Object(C.jsx)("button",{className:"".concat(4===t&&"active"," px-4 py-2 w-12 sm:w-full md:w-16 border border-gray-seventh focus:outline-none rounded-md text-xs text-gray-primary font-primary font-semibold"),onClick:function(){return r(4)},children:"4"})]})]})},T=function(){var e=Object(n.useContext)(N),t=e.applyFilters,r=e.handleFilterModal;return Object(C.jsxs)("div",{className:"h-full flex flex-col p-4 pt-0",children:[Object(C.jsx)(k,{}),Object(C.jsx)(S,{}),Object(C.jsx)("button",{className:"mt-auto md:mt-6 mb-16 md:mb-0 py-3 w-full bg-orange-primary rounded-md text-center focus:outline-none text-white font-primary font-semibold",onClick:function(){t(),r()},children:"Apply filter"})]})},H=function(){return Object(C.jsx)("div",{className:"z-10 h-full width-full fixed top-0 right-0 bottom-0 left-0 bg-black bg-opacity-75 flex justify-center items-center",children:Object(C.jsxs)("div",{className:"w-full h-full md:w-sm md:h-auto bg-white",children:[Object(C.jsx)(L,{}),Object(C.jsx)(T,{})]})})},R=function(){var e=Object(n.useContext)(N),t=e.state.isFilterShow,r=e.resetOffset,a=e.handleFilterModal;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"-mt-1.5 p-3 flex items-center justify-center border-b border-gray-fourth focus:outline-none cursor-pointer",as:"button",onClick:function(){r(),a()},children:[Object(C.jsx)("div",{children:Object(C.jsx)(P,{})}),Object(C.jsx)("h2",{className:"ml-3 mt-0.5 text-xs text-gray-fifth font-primary",children:"Filter"})]}),t&&Object(C.jsx)(H,{})]})},A=r(10),_=function(e){var t=e.properties,r=Object(n.useContext)(N),a=r.fetchProperties,c=r.incrementOffset,s=r.state,o=s.offset,i=s.totalProperties,l=o<i;return Object(n.useEffect)((function(){if(o>0)return a()}),[o]),Object(C.jsx)(A.a,{next:c,dataLength:t.length,hasMore:l,loader:Object(C.jsx)("h4",{className:"text-sm text-center font-medium",children:"LOADING MORE PROPERTIES..."}),children:Object(C.jsx)("div",{className:"flex flex-wrap justify-center",children:t.map((function(e){var t=e.id,r=e.title,n=e.description,a=e.price,c=e.imageurl;return Object(C.jsxs)("div",{className:"my-4 sm:m-4 max-w-sm",children:[Object(C.jsx)("img",{alt:r,src:c,loading:"lazy",className:"w-96 h-64 rounded-lg"}),Object(C.jsx)("h3",{className:"my-4 text-xl text-gray-primary font-primary font-extrabold",children:r}),Object(C.jsx)("p",{className:"-mt-2.5 mb-.5 text-sm text-gray-secondary",children:n}),Object(C.jsxs)("p",{className:"text-sm text-gray-primary font-medium",children:["$",a.toLocaleString()]})]},t)}))})})},I=function(){var e=Object(n.useContext)(N),t=e.fetchProperties,r=e.state,a=r.properties,c=r.totalProperties,s=r.loading;Object(n.useEffect)((function(){return t()}),[]);var o=a.length>0;return Object(C.jsxs)("div",{className:"p-4",children:[Object(C.jsx)("h2",{className:"mb-9 sm:text-center text-gray-primary text-2xl font-primary font-bold",children:"Search Properties"}),Object(C.jsx)("p",{className:"mb-3.5 sm:text-center text-gray-secondary text-lg font-primary",children:(s?"Loading properties...":o&&"".concat(c," properties found"))||"No properties found"}),Object(C.jsx)(_,{properties:a,isProperties:o})]})};var Z=function(){return Object(C.jsxs)(E,{children:[Object(C.jsx)("header",{className:"fixed top-0 right-0 left-0 bg-white",children:Object(C.jsx)("h1",{className:"p-6 border-b border-gray-tertiary text-center text-gray-primary font-primary font-medium",children:"Properties"})}),Object(C.jsxs)("main",{className:"mt-20",children:[Object(C.jsx)(R,{}),Object(C.jsx)(I,{})]})]})};s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(Z,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.94722a0e.chunk.js.map